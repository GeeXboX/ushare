<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html>
  <!--
      This web site is (c) 2005-2007 Zores Benjamin
      HomePage for the uShare UPnP Media Server Project (http://ushare.geexbox.org/)
      Feel free to get inspiration from this site, as long as you leave this comment here.
    -->
  <head>
    <title>GeeXboX uShare UPnP A/V Media Server HomePage</title>
    <meta http-equiv="Content-language" content="en"/>
    <meta http-equiv="Content-Type" content="application/xhtml+xml; charset=ISO-8859-1"/>
    <meta name="description" content="GeeXboX uShare Homepage : a free software UPnP A/V Media Server Linux"/>

    <meta name="dc.description" content="GeeXboX uShare Homepage : a free software UPnP A/V Media Server for Linux"/>
    <meta name="dc.subject" content="GeeXboX uShare Homepage : a free software UPnP A/V Media Server for Linux"/>
    <meta name="dc.title" content="GeeXboX uShare Homepage"/>
    <meta name="author" content="Benjamin Zores"/>
    <meta name="robots" content="index, follow"/>
    <meta name="keywords" content="computer, OS, Linux, UPnP, MediaServer, A/V, DLNA, embedded, multimedia, HTPC, home, theater, movie, audio, video, media, standalone, free, software, open, source, mpeg, mp3, divx, xvid, matroska, ogg, vorbis, PC, ushare, geexbox, geexbox.org"/>
    <style type="text/css">
      body { margin: 10px; padding: 0; font : 0.8em Verdana,Arial,Helvetica,sans-serif; }
      pre { font-size : 1.1em; background-color: rgb(220, 220, 220); padding: 2ex 6ex; border: 1px solid #ccc;}
      h1 { text-align: center; margin-bottom: 2em; }
      h2 { margin-top: 1em; border-bottom: 2px solid #ccc; }
      h3 { }
      dl.list { margin-left: 2em; }
      dt { font-weight: bold; }
      dd { margin-bottom: 1ex; }
      li { list-style-type: square; }
    </style>
  </head>
  <body>
    <h1>
      <tt>GeeXboX uShare</tt><br/>
      A free UPnP A/V Media Server for Linux
    </h1>

    <h2>Introduction</h2>
    <p>
      uShare is a UPnP (TM) A/V Media Server. It implements the server component that provides UPnP media devices with information on available multimedia files. uShare uses the built-in http server of libupnp to stream the files to clients.<br/>
      <br/>
      GeeXboX uShare is able to provide access to both images, videos, music or playlists files (see below for a complete file format support list). It does not act as an UPnP Media Adaptor and thus, can't transcode streams to fit the client requirements.<br/>
      <br/>
      uShare is written in C for the <a href="http://www.geexbox.org/">GeeXboX</a> project. It is designed to provide access to multimedia contents to GeeXboX but can of course be used by any other UPnP client device. It should compile and run on any modern POSIX compatible system such as Linux.<br/>
      <br/>
      uShare is free software - it is licensed under the terms of the <a href="http://www.gnu.org/copyleft/gpl.html">GNU General Public License</a> (GPL).
    </p>

    <h2>Latest News</h2>
    <div>
      Latest release of uShare is devel.<br/>
      See its ChangeLog :
      <ul>
	<li>added support for FreeBSD.</li>
        <li>fixed support for 2GB+ files.</li>
	<li>added basic support for 'Search' action.</li>
        <li>support for XboX 360 is finally working (please note that
        to stream video to the XboX, the console should be running
        dashboard version 2.0.4552.0 and only unprotected .wmv files
        are supported</li>
        <li>new RedBlack balanced tree searching and sorting algorithm used
	  instead of the recursive one. It avoids recursive calls, takes
	  less memory (perfect for embedded systems) and executes in more
	  "constant time" than the logarithmic style.</li>
	<li>massive memory optimization (uShare now takes 75% less RAM ;-)
	  only not using fixed size URL allocation buffer (a 16000+ files
	  collection now only takes 5MB where it used to take 19MB).</li>
      </ul>
    </div>

    <h2>Copyright and License</h2>
    <div>
      uShare is copyright (C) 2005-2007 Benjamin Zores.<br/>
      <br/>
      This program is free software; you can redistribute it and/or modify it under the terms of the GNU General Public License as published by the Free Software Foundation; either version 2 of the License, or (at your option) any later version.<br/>
      <br/>
      This program is distributed in the hope that it will be useful, but WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License for more details.<br/>
      <br/>
      You should have received a copy of the GNU General Public License along with this program; if not, write to the Free Software Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston, MA 02110-1301, USA. Note that uShare links with libupnp, which is licensed under the terms of a modified BSD license (i.e. the original BSD license without the advertising clause). This license is compatible with the GNU GPL.
    </div>

    <h2>Requirements</h2>
    <div>
      <h4>The following programs are required to build uShare:</h4>
      <dl class="list">
        <dt>GNU C Compiler (gcc), 2.95 or later.</dt>
        <dd>
        The GNU C Compiler is part of the GNU Compiler Collection which can be downloaded from <a href="http://gcc.gnu.org/">http://gcc.gnu.org/</a>.
        </dd>
      </dl>

      <h4>The following UPnP library is required to build and run uShare:</h4>
      <dl class="list">
        <dt>Linux SDK for UPnP Devices (libupnp), 1.4.1 or later.</dt>
        <dd>
        The libupnp library is used to communicate using the UPnP protocol. libupnp can be downloaded from <a href="http://pupnp.sourceforge.net/">http://pupnp.sourceforge.net/</a>.
        </dd>
      </dl>
    </div>

    <h2>Building and Installation</h2>
    <div>
      Compile uShare by running configure and then make. This should produce an executable ushare in the src subdirectory, which can be used right away. No extra files need to be installed.

      <h3>Example :</h3>
      <pre class="code">
CFLAGS="-Os" ./configure --prefix=/usr
make</pre>
      If you want to install uShare on your system, run :
      <pre class="code">make install-strip</pre>
      This will copy the executable and manual page into their appropriate directories (<i>/usr/bin</i> and <i>/usr/man/man1</i> in this example).<br/>
      For more information regarding configure and make, see the INSTALL document. 
    </div>

    <h2>Usage</h2>
    <div>
      At first you need to be sure that you have setup a multicast route for UPnP messages. If you don't but have a default route attributed, then this later will be used. Otherwise, simply declare a new route for UPnP multicasts (for example using <i>eth0</i> interface) :
      <pre class="code">route add -net 239.0.0.0 netmask 255.0.0.0 eth0</pre>
      uShare runs from the console only. It supports the usual --help option which displays usage and option information.
      <pre class="code">
Options:
   -n, --name=NAME              Set UPnP Friendly Name (default is 'uShare')
   -i, --interface=IFACE        Use IFACE Network Interface (default is 'eth0')
   -f, --cfg=FILE               Config file to be used
   -p, --port=PORT              Forces the HTTP server to run on PORT
   -c, --content=DIR            Share the content of DIR directory (default is './')
   -w, --no-web                 Disable the control web page (enabled
        by default)
   -o, --override-iconv-err     If iconv fails parsing name, still add to media contents (hoping the renderer can handle it)
   -v, --verbose                Set verbose display.
   -x, --xbox                   Use XboX 360 compliant profile
   -D, --daemon                 Run as a daemon.
   -V, --version                Display the version of uShare and exit
   -h, --help                   Display this help</pre>
      uShare expects at least one directory argument (-c argument), specifying where multimedia files are stored. You should probably also use the -i option to specify which interface uShare should listen on.
      <pre class="code">
ushare -c /shares
ushare -c /shares1 --content=/shares2</pre>
      You can also perform remote control of uShare UPnP Media Server through its web interface. This let you define new content locations at runtime or update the currently shared one in case the filesystem has changed.<br/><br/>
      Just go to :
      <pre class="code">http://ip_address:port/web/ushare.html</pre>
      See the manual page for more details :
      <pre class="code">man ushare</pre>
    </div>

    <h2>Supported File Formats List</h2>
    <div>
      <ul>
        <li><b>Video files</b>: <i>asf, avi, dv, divx, wmv, mjpg, mjpeg, mpeg, mpg, mpe, mp2p, vob, mp2t, m1v, m2v, m4v, m4p, mp4ps, ts, ogm, mkv, rmvb, mov, qt</i></li>
        <li><b>Audio files</b>: <i>aac, ac3, aif, aiff, at3p, au, snd, dts, rmi, mp1, mp2, mp3, mp4, mpa, ogg, wav, pcm, lpcm, l16, wma, mka, ra, rm, ram</i></li>
        <li><b>Images files</b>: <i>bmp, ico, gif, jpeg, jpg, jpe, pcd, png, pnm, ppm, qti, qtf, qtif, tif, tiff</i></li>
        <li><b>Playlist files</b>: <i>pls, m3u, asx</i></li>
        <li><b>Subtitle files</b>: <i>dks, idx, mpl, pjs, psb, scr, srt, ssa, stl, sub, tts, vsf, zeg</i></li>
        <li><b>Various text files</b>: <i>bup, ifo</i></li>
      </ul>
      If you want uShare to support more file formats, simply add its properties in the <i>src/mime.c</i> table. Do not forget to send a patch to update uShare.
    </div>

    <h2>Download</h2>
    <p>
      The currently available uShare release is 0.9.8.<br/>
      Sources can be downloaded <a href="http://ushare.geexbox.org/releases/ushare-0.9.8.tar.bz2">here</a>.
    </p>
    <dl>
      <dt>Debian Package</dt>
      <dd>
      If you're using Debian or Ubuntu GNU/Linux distribution, you can also grab the <a href="http://www.geexbox.org/debian/pool/main/ushare/ushare_0.9.8-0ubuntu1_i386.deb">binary for i386</a>.<br/>
      uShare is also available through <b>apt-get</b>. Simply add the following line to your <i>/etc/apt/sources.list</i> file :
      <pre class="code">deb http://www.geexbox.org/debian/ unstable main</pre>
      </dd>

      <dt>Fedora Package</dt>
      <dd>
      If you're using Fedora FC4 GNU/Linux distribution, you can also grab the <a href="http://ushare.geexbox.org/releases/ushare-0.9.7-1.fc4.i386.rpm">binary for i386</a>.
      </dd>

      <dt>Development Tree</dt>
      <dd>
      The latest uShare development tree can be grabbed using <a href="http://www.selenic.com/mercurial/">Mercurial</a>, a revision control system, similar in purpose to tools such as CVS, SCCS, and Subversion. It is used to keep track of the changes made to a source tree and to help programmers combine and otherwise manipulate changes made by multiple people or at different times.<br/>
      <br/>
      There are currently 2 ways of accessing the Mercurial tree: via command-line or web interface (to just have a look to some changes on a specific file, for example). You can directly access to the web interface with your browser from:<br/>
      <br/>
      <a href="http://hg.geexbox.org/ushare/">uShare Mercurial</a><br/>
      <br/>
      In order to access to Mercurial via command line, create and enter a new directory and do the following (be sure that you have installed the mercurial package).<br/>
      <ul>
        <li>To get a local copy of the uShare's Mercurial repository :
          <pre class="code">hg clone http://hg.geexbox.org/ushare</pre>
        </li>
        <li>To update your local copy of the Mercurial, synchronizing with our server :
          <pre class="code">hg pull --update</pre>
        </li>
      </ul>
      </dd>

      <dt>Old Releases</dt>
      <dd>
      Old releases of uShare can be found on our <a href="http://ushare.geexbox.org/releases/">releases depository</a>.
      </dd>
    </dl>

    <h2>Feedback</h2>
    <p>
      The author of uShare and this document, <i>Benjamin Zores</i>, can be contacted by <a href="mailto:ushare@geexbox.org">e-mail</a>.
    </p>
    <p>
      Please send bug reports, suggestions, ideas, comments or patches to : <a href="mailto:ushare@geexbox.org">ushare@geexbox.org</a>.
    </p>

    <h2>Known bugs and limitations</h2>
    <p>
      If you need to listen on more than one interface, you will have to start multiple instances of the media server.<br/>
      <br/>
      uShare keeps some information on files in memory. If your multimedia collection is huge, this might be a problem.
    </p>

    <h2>Links</h2>
    <div>
      Below is a short list of UPnP related software :
      <ul>
        <li><a href="http://djmount.sourceforge.net/"><b>djmount</b></a> : a software using FUSE to mount UPnP A/V Media Servers content as a Linux filesystem.</li>
        <li><a href="http://www.nongnu.org/gmediaserver/"><b>GMediaServer</b></a> : the original Media Server on which uShare was based.</li>
        <li><a href="http://www.geexbox.org/"><b>GeeXboX</b></a> : the Linux multimedia distribution that uses <i>djmount</i> to provide access to UPnP contents.</li>
      </ul>
    </div>

    <h2>Thanks</h2>
    <p>
      Many thanks to <i>Oskar Liljeblad</i> for its original work on <i>GMediaServer</i> (which is much more functionnal in terms of UPnP A/V features that uShare will ever be).
    </p>
  </body>
</html>
